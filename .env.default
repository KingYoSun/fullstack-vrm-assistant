# compose / runtime
# COMPOSE_PROFILES は起動時に dev/prod/mock を選択（例: COMPOSE_PROFILES=dev）
COMPOSE_PROFILES=
REQUEST_TIMEOUT_SEC=30
CORS_ALLOWED_ORIGINS=*

# backend
BACKEND_PORT=8000
PROVIDERS_CONFIG_PATH=/workspace/config/providers.yaml
POSTGRES_PORT=5432
POSTGRES_USER=vrm
POSTGRES_PASSWORD=vrm_password
POSTGRES_DB=vrm
DATABASE_URL=postgresql+asyncpg://vrm:vrm_password@postgres:5432/vrm

# frontend
FRONTEND_PORT=5173
VITE_WS_BASE_URL=
VITE_BACKEND_HOST=
VITE_BACKEND_PORT=8000
VITE_WS_PATH=/ws/session

# LLM
LLM_IMAGE=nvcr.io/nim/qwen/qwen3-32b-dgx-spark:latest
LLM_PLATFORM=linux/aarch64
LLM_LOCAL_PORT=18000
LLM_PORT=8000
LLM_MODEL_DIR=/opt/nim/workspace
LLM_MODEL_LOCAL_DIR=./models/llm
LLM_PROVIDER=nim-qwen3
LLM_ENDPOINT=http://llm:8000/v1
LLM_MODEL=qwen3-32b-instruct
LLM_TEMPERATURE=0.6
LLM_MAX_TOKENS=1024
LLM_TIMEOUT_SEC=30
LLM_STREAM=true
NGC_API_KEY=

# STT
STT_IMAGE=local/whisper-stt:cuda
STT_MODEL_LOCAL_DIR=./models/stt
STT_MODEL_DIR=/models
STT_MODEL=/models/ggml-base.en.bin
STT_PORT=6006
STT_THREADS=16
STT_PROVIDER=whisper-cpp
STT_ENDPOINT=http://stt:6006/inference
STT_LANGUAGE=ja
STT_TARGET_SAMPLE_RATE=16000
STT_ENABLE_PARTIAL=true
STT_VAD=
STT_TIMEOUT_SEC=30

# TTS (Open Audio S1)
TTS_IMAGE=local/openvoice:cuda
TTS_PROVIDER=open-audio-s1
TTS_ENDPOINT=http://tts:7007/v1/tts
TTS_PORT=7007
TTS_MODEL_LOCAL_DIR=./models/tts
TTS_REFERENCE_LOCAL_DIR=./references/tts
TTS_DEFAULT_VOICE=ja_female_1
TTS_LANGUAGE=ja-JP
TTS_OUTPUT_FORMAT=opus
TTS_SAMPLE_RATE=44100
TTS_STREAM=true
TTS_CHUNK_MS=40
TTS_TIMEOUT_SEC=30
TTS_MODEL_DIR=/app/checkpoints
TTS_REFERENCE_DIR=/app/references
TTS_GPU_COUNT=1
TTS_BACKEND=cpu

# Embedding
EMBEDDING_IMAGE=local/llama-embedding:cuda
EMBEDDING_PROVIDER=local-embedding
EMBEDDING_ENDPOINT=http://embedding:9000/embedding
EMBEDDING_PORT=9000
EMBEDDING_MODEL=/models/embd-model.gguf
EMBEDDING_MODEL_LOCAL_DIR=./models/embedding
EMBEDDING_PARALLEL=4
EMBEDDING_UBATCH=1024
EMBEDDING_NGPU=999
EMBEDDING_POOLING=mean
EMBEDDING_MODEL_DIR=/models
EMBEDDING_BATCH_SIZE=16
EMBEDDING_TIMEOUT_SEC=30

# RAG
RAG_PROVIDER=faiss
RAG_INDEX_PATH=/data/faiss/index.bin
RAG_TOP_K=5
RAG_EMBEDDING_PROVIDER=local-embedding
